<h1>Inscription</h1>
<form [formGroup]="formGroupUser" class="col-md-6 col-sm-12 mx-auto mt-5">
  <div>
    <label for="firstname">  Prénom :</label>
    <input
      id="firstname"
      class="form-control"
      formControlName="firstname"
      placeholder="Prénom"
      [class.is-invalid]="isFieldOnError('firstname')"
      [class.is-valid]="firstname.valid"
    >
    <div class="invalid-feedback"
         *ngIf="isFieldOnError('firstname') && firstname.errors"
    >
      <div *ngIf="firstname.errors['required']">
        Le prénom est obligatoire
      </div>
    </div>
  </div>
  
  <div>
    
    <label for="lastname">  Nom :</label>
    <input
      id="lastname"
      class="form-control"
      formControlName="lastname"
      placeholder="Nom"
      [class.is-invalid]="isFieldOnError('lastname')"
      [class.is-valid]="lastname.valid"
    >
    <div class="invalid-feedback"
         *ngIf="isFieldOnError('lastname') && lastname.errors"
    >
      <div *ngIf="lastname.errors['required']">
        Le nom est obligatoire
      </div>
    </div>
  </div>
  <div>
    
    <label for="birthAt">  Date de naissance :</label>
    <input
      id="birthAt"
      type="date"
      class="form-control"
      formControlName="birthAt"
      placeholder="Date de naissance"
      [class.is-invalid]="isFieldOnError('birthAt')"
      [class.is-valid]="birthAt.valid"
    >
    <div class="invalid-feedback"
         *ngIf="isFieldOnError('birthAt') && birthAt.errors"
    >
      <div *ngIf="birthAt.errors['required']">
        Le date de naissance est obligatoire
      </div>
    </div>
  </div>
  
  <label for="phoneNumber">  Téléphone :</label>
  <div>
    <input
      id="phoneNumber"
      class="form-control"
      formControlName="phoneNumber"
      placeholder="Téléphone"
      [class.is-invalid]="isFieldOnError('phoneNumber')"
      [class.is-valid]="phoneNumber.valid"
    >
    <div class="invalid-feedback"
         *ngIf="isFieldOnError('phoneNumber') && phoneNumber.errors"
    >
      <div *ngIf="phoneNumber.errors['required']">
        Le numéro de téléphone est obligatoire
      </div>
    </div>
  </div>
  <div>
    <label for="email">  Email :</label>
    <input
      id="email"
      class="form-control"
      formControlName="email"
      placeholder="Adresse mail"
      [class.is-invalid]="isFieldOnError('email')"
      [class.is-valid]="email.valid"
    >
    <div class="invalid-feedback"
         *ngIf="isFieldOnError('email') && email.errors"
    >
      <div *ngIf="email.errors['required']">
        L'adresse mail est obligatoire
      </div>
    </div>
  </div>
  <div>
    <label for="password">  Mot de passe :</label>
    <input
      id="password"
      type="password"
      class="form-control"
      formControlName="password"
      placeholder="Mot de passe"
      [class.is-invalid]="isFieldOnError('password')"
      [class.is-valid]="password.valid"
    >
    <div class="invalid-feedback"
         *ngIf="isFieldOnError('password') && password.errors"
    >
      <div *ngIf="password.errors['required']">
        Le mot de passe est obligatoire
      </div>
      <div *ngIf="password.errors['minlength']">
        Le mot de passe doit etre supérieur à 8
      </div>
    </div>
  </div>
  
  <div *ngIf="error" class="invalid-feedback">
    {{ error }}
  </div>
</form>

<button class="btn btn-primary mt-5 d-flex mx-auto"
        (click)="onSubmit()"
        [disabled]="formGroupUser.invalid"
>
  Soumettre
</button>

<!-- <button class="btn btn-success mt-5 d-flex mx-auto"
        (click)="testLogin()"
>
  Login
</button> -->
